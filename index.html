<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UN Plastics Treaty – Countdown</title>

  <!-- Open Sans Fallback -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- WWF Webfont – self-hosted -->
  <style>
    @font-face{
      font-family:"WWF";
      src: url("fonts/WWF-Regular.woff2") format("woff2"),
           url("fonts/WWF-Regular.woff") format("woff");
      font-weight:400; font-style:normal; font-display:swap;
    }
    @font-face{
      font-family:"WWF";
      src: url("fonts/WWF-Bold.woff2") format("woff2"),
           url("fonts/WWF-Bold.woff") format("woff");
      font-weight:700; font-style:normal; font-display:swap;
    }

    :root{ --bg:#fff; --fg:#000; --maxw:1100px; }
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:"WWF","Open Sans",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      display:flex; flex-direction:column; min-height:100svh;
    }

    /* Header */
    .site-header{ border-bottom:1px solid #e6e6e6; background:#fff; }
    .container{
      width:100%; max-width:var(--maxw); margin-inline:auto;
      padding:clamp(12px,2.5vw,24px) clamp(16px,4vw,32px);
    }
    .header-inner{ display:flex; align-items:center; justify-content:flex-start; gap:16px; }
    .brand{ display:inline-flex; align-items:center; text-decoration:none; color:inherit; }
    .brand img{ height:clamp(36px,6vw,64px); width:auto; display:block; }

    /* Main */
    main{ flex:1 }
    .hero{ text-align:center; padding-block:clamp(16px,4vw,32px); }
    h1{
      margin:0 0 clamp(8px,2vw,12px) 0;
      font-size:clamp(16px,2vw,20px);
      line-height:1.3; font-weight:700; text-wrap:balance;
      max-width:500px; margin-inline:auto;
    }

    /* Desktop/landscape counter (inline) */
    .counter-inline{
      font-variant-numeric:tabular-nums; letter-spacing:.02em;
      font-weight:700; font-size:clamp(48px,12vw,160px);
      line-height:1; max-width:500px; margin-inline:auto;
    }

    /* Mobile portrait counter (stacked with labels on the right) */
    .counter-stacked{ display:none; }

    @media (orientation: portrait) and (max-width: 768px) {
      .hero{
        min-height: 100vh;
        display:flex; flex-direction:column; justify-content:center; align-items:stretch;
        padding-block:0;
      }
      .hero .container{ width:100%; max-width:620px; }
      .counter-inline{ display:none; }
      .counter-stacked{
        display:grid;
        grid-template-columns: auto 1fr;
        grid-template-rows: auto auto auto;
        align-items:center;
        column-gap: clamp(8px, 3vw, 20px);
        row-gap: clamp(8px, 4vh, 40px);
        margin-top: clamp(8px,3vh,24px);
      }
      .value{
        font-weight:700; font-size: clamp(56px, 22vh, 180px);
        line-height:.9; justify-self:start;
      }
      .unit{
        font-weight:600; font-size: clamp(16px, 5.2vw, 28px);
        line-height:1; justify-self:start;
      }
      h1{ font-size: clamp(18px, 6vw, 32px); max-width:none; }
    }

    /* Content */
    .content{ padding-block:clamp(16px,5vw,32px); }

    /* Footer */
    .site-footer{ border-top:1px solid #333; background:#000; color:#fff; }
    .footer-links{ display:flex; flex-wrap:wrap; gap:12px 24px; align-items:center; }
    .footer-links a{
      color:#fff; text-decoration:underline; text-underline-offset:2px;
      font-size:clamp(14px,2.8vw,16px);
    }
    .footer-links a:hover, .footer-links a:focus{ text-decoration:none; }

    a:focus-visible, button:focus-visible { outline:2px solid #fff; outline-offset:2px; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="brand" href="https://www.wwf.de" aria-label="WWF">
        <img src="assets/wwf-logo.svg" alt="WWF logo">
      </a>
    </div>
  </header>

  <!-- Main -->
  <main role="main">
    <section class="hero">
      <div class="container">
        <h1>Time to reach a strong UN Plastics Treaty</h1>

        <!-- Desktop/Querformat -->
        <div class="counter-inline" id="counterInline" aria-live="polite">00:00:00</div>

        <!-- Mobile/Hochformat -->
        <div class="counter-stacked" aria-live="polite">
          <div class="value" id="hVal">00</div><div class="unit">Hours</div>
          <div class="value" id="mVal">00</div><div class="unit">Minutes</div>
          <div class="value" id="sVal">00</div><div class="unit">Seconds</div>
        </div>
      </div>
    </section>

    <!-- Platzhalter zum Scroll-Test -->
    <section class="content">
      <div class="container" id="more">
        <p style="margin-bottom:100vh"></p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer" role="contentinfo">
    <div class="container">
      <nav class="footer-links" aria-label="Footer">
        <a href="https://www.wwf.de/spenden-helfen/datenschutz" rel="noopener">Privacy</a>
        <a href="https://www.wwf.de/impressum" rel="noopener">Imprint</a>
        <a href="https://wwf.panda.org/act/plastic_pollution_treaty/reports_and_resources/" rel="noopener">INC ressources</a>
        <a href="mailto:fselamat@wwfint.org">Press contact</a>
      </nav>
    </div>
  </footer>

  <script>
    // Zielzeitpunkt: 15.08.2025 00:00 in Europe/Zurich (Genf) = 2025-08-14T22:00:00Z
    const TARGET_ISO_UTC = '2025-08-14T22:00:00Z';
    const targetUtcMs = Date.parse(TARGET_ISO_UTC);

    const inlineEl = document.getElementById('counterInline');
    const hEl = document.getElementById('hVal');
    const mEl = document.getElementById('mVal');
    const sEl = document.getElementById('sVal');

    const pad = n => String(n).padStart(2,'0');
    const formatInline = (h,m,s) => `${pad(h)}:${pad(m)}:${pad(s)}`;

    function tick(){
      const now = Date.now();
      let diff = targetUtcMs - now;
      if (diff < 0) diff = 0;

      const totalSec = Math.floor(diff/1000);
      const s = totalSec % 60;
      const m = Math.floor(totalSec/60) % 60;
      const h = Math.floor(totalSec/3600);

      if (inlineEl) inlineEl.textContent = formatInline(h,m,s);
      if (hEl) hEl.textContent = pad(h);
      if (mEl) mEl.textContent = pad(m);
      if (sEl) sEl.textContent = pad(s);
    }
    tick();
    setInterval(tick, 1000);
  </script>
</body>
</html>
